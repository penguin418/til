읽기 좋은 코드가 좋은 코드닫(더스틴 보즈웰, 트레버 파우커 지음, 임백준 옮김, 한빛미디어 출판)를 읽고 정리합니다
[https://www.hanbit.co.kr/store/books/look.php?p_code=B3602722207](https://www.hanbit.co.kr/store/books/look.php?p_code=B3602722207)
# 가독성의 기본 원리

- 코드는 다른 사람이 이해하는데 들이는 시간을 최소화 하는 방식으로 작성해야 한다

# 표면적 수준의 개선

### 좋은 이름을 짓고, 좋은 설명을 달고, 코드를 보기좋게 정렬해야 한다

### 이름에 정보를 담자

- 구체적인 단어를 사용하자

    tmp는 임시저장소인 경우에만 사용

    i, j, iter, it 보다 member_i, member_j, member_iter가 더 낫다

- 보편적인 이름을 피하자
- 접두사, 접미사로 추가정보를 더해주자

    _ms: 밀리세컨드

    unsafe_, plaintext_ , unescaped_, plain_ : 취약하거나 불안전함을 표시 & 추가적인 조치가 필요함 

    trusted_, encoded : 속성 표시하기

- 사용범위가 넓은 경우, 긴 이름을 사용하자
- 불필요한 단어는 제거한다

    convertToString보다 toString이 낫다

- 이름 포맷팅으로 의미를 전달할 수 있다

### 오해할 수 있는 이름을 피해야 한다

- max, min으로 한계를 표시하자
- 경계를 포함하는 경우 first, last를 사용하자
- 경계를 포함/배제하는 경우 begin, end를 사용하자
- is, has, can, should 등을 사용하여 boolean을 표현하자
- 부정적 용어를 피하자
- 예상가능한 동작을 해야 한다

    get(), size() 등의 함수는 변수를 꺼내거나, 사이즈를 반환해야 한다

### 예쁘게 작성해야 하자

- 일관성 있는 레이아웃을 사용하자
- 연관된 코드를 하나의 블록으로 묶자
- 열을 맞추어 더 보기좋게 만들 수 있다
- 선언문을 블록으로 구성하는 것이 좋다
- 빈 줄을 잘 사용하면 블록을 논리적인 문단으로 나눌 수 있다

### 주석에 담아야 하는 대상

- 코드를 보고 알 수 있는 내용은 주석을 달지 말자
- 설명을 위한 설명을 달지 말자

    좋은 코드가 나쁜코드+좋은 주석 보다 낫다

- 생각을 기록해 두는 것이 좋다
- 표시 - 보통의 의미

    ```python
    # TODO: 아직 안한 일
    # FIXME: 오작동이 발생하는 코드
    # HACK: 리팩토링 해라
    # XXX: 위험한 코드
    ```

- 코드를 읽는 사람의 입장이 되자
    - 코드를 장성한 이유를 설명하는 내용을 추가하자
    - 코드에 있는 결함을 설명하자
    - 특이한 동작을 기록하자
    - 큰 그림과 작은그림을 설명하자

        요약 주석: 함수 내부에서 큰 그림을 설명하기

### 명확하고 간결한 주석

- 주석은 높은 정보/공간 비를 갖춰야한다
- 간결하게 적자
- 함수의 동작을 명확하게 설명하자
- 코너 케이스를 설명하는 입출력 예시를 적자

# 루프와 논리를 단순화

### 읽기 쉬운 제어흐름을 만들자

- 제어문은 한번에 읽을 수 있도록 하자
- if 문:

    변화하는 값은 왼쪽에 안정적인 값을 오른쪽에 놓자

    if문 내에는 확실한(긍정적인) 변수를 담자

- 삼항연산자: 한줄이 넘어가는 삼항연산자를 사용하지 말자
- 조건문의 중첩: 조건을 추가하여 중첩을 분리하자

### 거대한 표현을 쪼개자

- 설명변수를 사용하여 표현을 쪼개자

    ```python
    user_name = request.split(',')[0].split(':')[1]

    name_part, pass_part = request.split(',')
    user_name = name_part.split(':')[1]
    ```

- 요약변수를 사용하여 중복되는 코드를 정리하자

    ```python
    user_has_auth = (user.role = 'ROLE_USER')
    if user_has_auth:
    	...
    if user_has_auth:
    	...
    ```

- not 연산자는 중첩되지 않는 것이 좋다

    ```python
    if ! ( ! ... ! ... and  .. ) 보다
    if ! ... and ! ... or ! ... 이 더 낫다
    ```

### 변수와 가독성

- 불필요한 임시변수는 삭제하자 (많을 수록 기억하기 어렵다)

    중간 결과

    흠름 제어 변수

- 변수의 범위는 최대한 작은것이 좋다 (범위가 넓을 수록 기억하기 어렵다)

    변수 선언은 사용하기 직전 위치가 더 좋다

    클래스를 작게 만들 수 있다면 작게 하는 것이 더 좋다

- 값이 한번만 할당되는 변수가 좋다 (값이 자주 바뀔 수록 기억하기 어렵다)

    변수의 변경 범위를 줄이면 블록을 읽을 때 기억해야하는 변수가 줄어든다

# 코드 재작성

### 상관없는 하위문제를 추출하자

- 일반적 목적의 코드는 프로젝트 코드에서 분리하자

    플러그인이나 util로 분리하자

- 여러가지 일을 하는 코드가 모여있으면 문맥별로 함수를 쪼개거나, 빈줄을 사용하여 문맥을 나누자
- 인터페이스를 단순화 하자

    더 적은 수의 인수를 받는 것이 좋다

    별다른 설정이 필요없는 것이 좋다